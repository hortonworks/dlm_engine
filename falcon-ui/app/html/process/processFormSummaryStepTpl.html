<!--
/**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
-->
<form name="processForm" class="mt10" novalidate id="processFormSummaryStep">

  <div class="row" id="processSummaryStep">
    <h4 class="col-sm-24">General</h4>

    <div class="col-sm-24">
      <label>Process Name</label>: <span>{{process.name}}</span>
    </div>

    <div class="col-sm-24">
      <label>Tags</label>:
      <div ng-repeat="tag in process.tags | filter:{key: '!!'}">
        <span>{{tag.key}} = {{tag.value}}</span>
      </div>
      <div ng-show="!hasTags()"><span>No tags selected</span></div>
    </div>

    <h4 class="col-sm-24">Workflow</h4>
    <div class="col-sm-24">
      <label>Workflow Name</label>:
      <label class="light">{{process.workflow.name}}</label>
    </div>
    <div class="col-sm-24">
      <label>Engine</label>:
      <label class="light">{{process.workflow.engine}}</label>
    </div>
    <div class="col-sm-24">
      <label>Version</label>:
      <label class="light">{{process.workflow.version}}</label>
    </div>
    <div class="col-sm-24">
      <label>Script Path</label>:
      <label class="light">{{process.workflow.path}}</label>
    </div>

    <h4 class="col-sm-24">Timing</h4>
    <div class="col-sm-24">
      <label>Timezone</label>:
      <label class="light">{{optional(process.timezone)}}</label>
    </div>
    <div class="col-sm-24">
      <label>Frequency</label>:
      <label class="light">Every {{process.frequency.quantity}} {{process.frequency.unit}}</label>
    </div>
    <div class="col-sm-24">
      <label>Max. parallel instances</label>:
      <label class="light">{{process.parallel}}</label>
    </div>
    <div class="col-sm-24">
      <label>Instance Usage</label>:
      <label class="light">{{optional(process.order)}}</label>
    </div>

    <h4 class="col-sm-24">Retry</h4>
    <div class="col-sm-24">
      <label>Retry Policy</label>:
      <label class="light">{{process.retry.policy}}</label>
    </div>
    <div class="col-sm-24">
      <label>Attempts</label>:
      <label class="light">{{process.retry.attempts}}</label>
    </div>
    <div class="col-sm-24">
      <label>Delay</label>:
      <label class="light">Up to {{process.retry.delay.quantity}} {{process.retry.delay.unit}}</label>
    </div>

    <h4 class="col-sm-24">Clusters</h4>
    <div ng-repeat="cluster in process.clusters">
      <div class="row col-sm-offset-1 col-sm-22 detailsBox">
        <div class="col-sm-24">
          <label>Cluster Name</label>:
          <label class="light">{{cluster.name}}</label>
        </div>
        <label class="col-sm-24">Validity</label>
        <div class="col-sm-24">
          <label>Start</label>:
          <label class="light">{{cluster.validity.start.date|date:'yyyy-MM-dd'}} {{cluster.validity.start.time|date:'HH:mm'}}</label>
          <label>End</label>:
          <label class="light">{{cluster.validity.end.date|date:'yyyy-MM-dd'}} {{cluster.validity.end.time|date:'HH:mm'}}</label>
        </div>
      </div>
    </div>
    <h4 class="col-sm-24">Inputs</h4>
    <div ng-repeat="input in process.inputs">
      <div class="row col-sm-offset-1 col-sm-22 detailsBox">
        <div class="col-sm-24">
          <label>Name</label>:
          <label class="light">{{input.name}}</label>
        </div>
        <div class="col-sm-24">
          <label>Feed</label>:
          <label class="light">{{input.feed}}</label>
        </div>
        <label class="col-sm-24">Instance</label>
        <div class="col-sm-24">
          <label>Start</label>:
          <label class="light">{{input.start}}</label>
          <label>End</label>:
          <label class="light">{{input.end}}</label>
        </div>
      </div>
    </div>
    <h4 class="col-sm-24">Outputs</h4>
    <div ng-repeat="output in process.outputs">
      <div class="row col-sm-offset-1 col-sm-22 detailsBox">
        <div class="col-sm-24">
          <label>Name</label>
          <label class="light">{{output.name}}</label>
        </div>
        <div class="col-sm-24">
          <label>Feed</label>
          <label class="light">{{output.feed}}</label>
        </div>
        <label class="col-sm-24">Instance</label>
        <div class="col-sm-24">
          <label>Instance</label>
          <label class="light">{{output.outputInstance}}</label>
        </div>
      </div>
    </div>
  </div>
  
  <div class="col-xs-24 mt35 pb15px pl0px">
    <button type="button" class="btn prevBtn"
         ng-click="goBack()"
         ng-disabled="buttonSpinners.backShow">
      PREVIOUS <img src="css/img/ajax-loader.gif" ng-if="buttonSpinners.backShow" />
    </button>
    <div class="pull-right">
      <a class="btn cnclBtn" ui-sref="main">
        CANCEL
      </a>
      <button class="btn nextBtn"
           ng-disabled="processForm.$invalid || buttonSpinners.show"
           ng-click="saveEntity()" scroll-to-error>
        SAVE <img src="css/img/ajax-loader.gif" ng-if="buttonSpinners.show" />
      </button>
    </div>
  </div>

</form>
