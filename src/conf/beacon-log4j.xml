<?xml version="1.0" encoding="UTF-8" ?>
<!--
    Copyright  (c) 2016-2017, Hortonworks Inc.  All rights reserved.
    Except as expressly permitted in a written agreement between you or your
    company and Hortonworks, Inc. or an authorized affiliate or partner
    thereof, any use, reproduction, modification, redistribution, sharing,
    lending or other exploitation of all or any part of the contents of this
    software is strictly prohibited.
-->


<!--
    This is used for beacon packaging only.
  -->

<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">

<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">
    <appender name="console" class="org.apache.log4j.ConsoleAppender">
        <param name="Target" value="System.out"/>
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d %-5p - [%x] ~ %m (%C{1}:%L)%n"/>
        </layout>
    </appender>

    <appender name="FILE" class="org.apache.log4j.rolling.RollingFileAppender">
        <rollingPolicy class="org.apache.log4j.rolling.TimeBasedRollingPolicy">
            <param name="FileNamePattern" value="${beacon.log.dir}/${beacon.log.filename}.%d{yyyy-MM-dd-HH}.gz"/>
            <param name="ActiveFileName" value="${beacon.log.dir}/${beacon.log.filename}"/>
        </rollingPolicy>

        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d %-5p - [%x] ~ %m (%c{1}:%L)%n"/>
        </layout>
    </appender>

    <logger name="com.hortonworks.beacon" additivity="false">
        <level value="${beacon.log.level}"/>
        <appender-ref ref="${beacon.log.appender}"/>
    </logger>

    <logger name="org.apache.hadoop.hive" additivity="false">
        <level value="warn"/>
        <appender-ref ref="${beacon.log.appender}"/>
    </logger>
    <logger name="org.quartz" additivity="false">
        <level value="warn"/>
        <appender-ref ref="${beacon.log.appender}"/>
    </logger>

    <root>
        <priority value="warn"/>
        <appender-ref ref="${beacon.log.appender}"/>
    </root>

</log4j:configuration>