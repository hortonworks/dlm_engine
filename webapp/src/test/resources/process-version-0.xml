<?xml version="1.0" encoding="UTF-8"?>
<process name="sample" >
    <!-- where -->
    <clusters>
      <cluster name="prod-red" />
    </clusters>

    <!-- when -->
    <frequency>hourly</frequency>
    <periodicity>1</periodicity>
    <validity start="2011-11-01 00:00:00" end="9999-12-31 23:59:00"/>

    <!-- what -->
    <inputs>
        <input id="impression" feed="impression" start-instance="$ptime-6" end-instance="$ptime" />
        <input id="clicks" feed="clicks" start-instance="$ptime" end-instance="$ptime" />
    </inputs>

    <outputs>
        <output feed="imp-click-join" instance="$ptime" />
        <output feed="imp-click-join1" instance="$ptime" />
    </outputs>

    <!-- how -->
    <workflow engine="oozie" path="hdfs:///path/to/workflow" >
    	<input name="clickinputData" input="clicks" />
    	<input name="impressionData" input="impression" />
	</workflow>

    <retry policy="backoff" delay="10" delayUnit="min" attempts="3" />

    <late-process policy="exp-backoff" delay="1" delayUnit="hour">
        <late-input feed="impression" workflow-path="hdfs://impression/late/workflow" />
        <late-input feed="clicks" workflow-path="hdfs://clicks/late/workflow" />
    </late-process>
</process>